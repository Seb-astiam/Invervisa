<h2>Nuevo Producto</h2>

<form [formGroup]="form" (ngSubmit)="save()">
    <label>Nombre</label>
    <input formControlName="name" />

    <label>Descripción</label>
    <input formControlName="description" />

    <label>Precio</label>
    <input type="number" step="0.01" formControlName="price" />

    <label>Stock</label>
    <input type="number" formControlName="stock" />

    <label>Categoria</label>
    <select formControlName="categoryId">
        <option value="" disabled selected>Seleccione categoría</option>
        @for (c of categories; track c.id) {
            <option [value]="c.id">{{ c.name }}</option>
        }
    </select>

    <label>Imagen (URL)</label>
    <input formControlName="imageUrl" />

    <button type="submit" [disabled]="form.invalid || loading">Guardar</button>
    <a routerLink="/admin">Volver</a>
</form>

@if (msg) { <h2>{{ msg }}</h2>}